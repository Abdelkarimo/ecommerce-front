<!-- banner bg main start -->
<div class="banner_bg_main">
  <!-- header top section start -->
  <div class="container">
    <div class="header_section_top d-none d-md-block">
      <div class="custom_menu mb-auto ps-4 pe-4">
        <ul class="d-flex align-items-center justify-content-between w-100">
          <!-- Left links -->
          <div class="d-flex align-items-center  flex-wrap">
            <li><a [routerLink]='["/"]' fragment="home">Home</a></li>
            <li><a [routerLink]='["/products"]' fragment="product-list-id">Products</a></li>
            <li><a [routerLink]='["/about"]' fragment="about">About</a></li>

          </div>

          <!-- Right links (Login/Logout/Cart/User Info) -->
          <div class="d-flex align-items-center gap-0 flex-wrap">

            @if(!user) {
            <li>
              <a [routerLink]='["/login"]' fragment="login">
                <i class="fa fa-user" aria-hidden="true"></i>
                <span class="padding_10">Login</span>
              </a>
            </li>
            }
            @else {
            <li class="d-flex align-items-center gap-2 user-info">
              @if(!user.picture){
              <i class="fa fa-user-circle text-light fs-4"></i>
              }
              @else {
              <img [src]="user.picture" alt="User" class="rounded-circle border border-light" width="35" height="35" />
              }

              <span class="fw-semibold text-light">{{ user?.name }}</span>
            </li>

            <li class="position-relative ">
              <a [routerLink]="['/favourites']" fragment="favourites" class="position-relative">
                <i class="fa fa-heart ms-1" aria-hidden="true"></i>
                <span class="padding_10">Favourites</span>
                @if (favouritesCount >0){
                <span class="position-absolute top-0  start-0 translate-middle badge rounded-pill bg-danger">
                  {{ favouritesCount }}
                </span>
                }

              </a>
            </li>

            <li class="position-relative ">
              <a [routerLink]="['/cart']" fragment="cart" class="position-relative">
                <i class="fa fa-shopping-cart ms-2" aria-hidden="true"></i>
                <span class="padding_10">Cart</span>
                @if (cartCount > 0 ){
                <span class="position-absolute top-0 start-0  translate-middle badge rounded-pill bg-primary">
                  {{ cartCount }}
                </span>
                }

              </a>
            </li>


            <li>
              <a (click)="logOut()" class="logout-link">
                <i class="fa fa-sign-out" aria-hidden="true"></i>
                <span class="padding_10">Logout</span>
              </a>
            </li>
            }

          </div>
        </ul>
        <div class="d-flex flex-sm-row w-100 gap-2 ms-4 pe-5 mt-2">
          <input type="text" class="form-control flex-grow-1" placeholder="Search this blog" [(ngModel)]="searchTerm"
            (keydown.enter)="SearchItems()">
          <button class="btn btn-secondary flex-shrink-0" type="button"
            style="background-color:#f26522; border-color:#f26522" (click)="SearchItems()">
            <i class="fa fa-search"></i>
          </button>
        </div>
      </div>

    </div>
  </div>
  <!-- header top section start -->

  <!-- header section start -->
  <div class="header_section p-0">
    <div class="container">
      <div class="containt_main d-flex flex-column flex-md-row ">
        <div class="toggle-search-bar d-flex flex-grow-1">
          <div id="mySidenav" class="sidenav" [style.width]="isNavOpen ? '250px' : '0'">
            <a href="javascript:void(0)" class="closebtn" (click)="closeNav()">&times;</a>
            <a [routerLink]='["/"]' fragment="home">Home</a>
            <a [routerLink]='["/products"]' fragment="product-list-id">Products</a>
            <a [routerLink]='["/about"]' fragment="about">About</a>

            @if(!user) {

            <a [routerLink]='["/login"]' fragment="login">
              <i class="fa fa-user" aria-hidden="true"></i>
              <span class="padding_10">Login</span>
            </a>

            }
            @else {
            <a class="d-flex align-items-center gap-2 user-info">
              @if(!user.picture){
              <i class="fa fa-user-circle text-light fs-4"></i>
              }
              @else {
              <img [src]="user.picture" alt="User" class="rounded-circle border border-light" width="35" height="35" />
              }

              <span class="fw-semibold text-light">{{ user?.name }}</span>
            </a>


            <a [routerLink]="['/favourites']" fragment="favourites" class="position-relative">
              <i class="fa fa-heart ms-1" aria-hidden="true"></i>
              <span class="padding_10 me-2">Favourites</span>
              @if (favouritesCount >0){
              <span class=" translate-middle rounded-pill bg-danger">
                {{ favouritesCount }}
              </span>
              }

            </a>


            <li class="position-relative ">
              <a [routerLink]="['/cart']" fragment="cart" class="position-relative">
                <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                <span class="padding_10 me-2">Cart</span>
                @if (cartCount > 0 ){
                <span class="  translate-middle rounded-pill bg-primary">
                  {{ cartCount }}
                </span>
                }

              </a>
            </li>


            <li>
              <a (click)="logOut()" class="logout-link">
                <i class="fa fa-sign-out" aria-hidden="true"></i>
                <span class="padding_10">Logout</span>
              </a>
            </li>
            }
          </div>

          <span class="toggle_icon d-block d-md-none pt-4" (click)="openNav()"><img src="assets/toggle-icon.png"></span>

        </div>

      </div>
    </div>
  </div>
  <!-- header section end -->

  <!-- banner section end -->
</div>
